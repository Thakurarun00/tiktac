<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tic Tac Toe</title>
    <style>
      table {
        margin: 0px auto;
        text-align: center;
      }
      table,
      tr,
      td {
        border: 5px solid red;
        border-collapse: collapse;
      }
      tr {
        width: 450px;
        height: 150px;
      }
      td {
        width: 120px;
        height: 120px;
      }
      td img {
        width: 120px;
        height: 120px;
      }
    </style>
    <script>
      var turn = 0
      0 //0 1==x
      var state = [2, 2, 2, 2, 2, 2, 2, 2, 2]
      2 /// blank
      var winpostions = [
        [0, 1, 2],
        [3, 4, 5],
        [6, 7, 8],
        [0, 3, 6],
        [1, 4, 7],
        [2, 5, 8],
        [0, 4, 8],
        [2, 4, 6],
      ]
      var gamestatus = true
      function ontap(e, i) {
        if (state[i] == 2 && gamestatus == true) {
          if (turn == 0) {
            e.innerHTML = "<img src='img1.jpeg' />"
           
            turn = 1
            state[i] = 0
            document.getElementById('h1').innerHTML = 'X Player Turn'
          } else {
            e.innerHTML = "<img src='img2.jpeg' />"
            turn = 0
            state[i] = 1
            document.getElementById('h1').innerHTML = 'O Player Turn'
          }
        }
        console.log(state)
        var winner = checkwin()
        if (winner == 0) {
          document.getElementById('h1').innerHTML = 'O Player Won'
          document.getElementById('a').style.backgroundImage="URL('127.gif')"; 
        } else if (winner == 1) {
          document.getElementById('a').style.backgroundImage="URL('127.gif')";
           document.getElementById('h1').innerHTML = 'X Player Won'

        }
      }
      /// Game over
      var blank = 0
      for (x of state) {
        if (x == 2) {
          blank++
        }
        if (blank == 0 && winner == 2) {
          document.getElementById('h1').innerHTML = 'Game Over'
        }
      }
      /// Check win

      function checkwin() {
        var win = 2
        for (x of winpostions) {
          if (
            state[x[0]] == state[x[1]] &&
            state[x[1]] == state[x[2]] &&
            state[x[0]] != 2
          ) {
            win = state[x[0]]
            gamestatus = false
            break
          }
        }
    return win;  
    }

    </script>
  </head>
  <body id="a">
    <center>
      <h1>Welcome to Tic Tac Toe Game</h1>
      <h2 id="h1">O Player Turn</h2>
    </center>
    <table>
      <tr>
        <td onclick="ontap(this,0)"></td>
        <td onclick="ontap(this,1)"></td>
        <td onclick="ontap(this,2)"></td>
      </tr>
      <tr>
        <td onclick="ontap(this,3)"></td>
        <td onclick="ontap(this,4)"></td>
        <td onclick="ontap(this,5)"></td>
      </tr>

      <tr>
        <td onclick="ontap(this,6)"></td>
        <td onclick="ontap(this,7)"></td>
        <td onclick="ontap(this,8)"></td>
      </tr>
    </table>
  </body>
</html>
